{"version":3,"file":"app-build/ImmutableObj.js","sources":["app/ImmutableObj.js","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/4"],"names":[],"mappings":"AAAA;AAAA,WAAW,CAAC;ACAZ,KAAK,iBAAiB,AAAC,CAAC,OAAM;iBCA9B,EAAC,GAAE,YCAqB;AAAE,4BAAwB;IAAE,ADA9B,CAAC;AEAvB,WAAS,CCAT,EAAC,KAAI,CDAO,KAAG,ACAS,CAAC;CJAyB,CAAC;ADEnD,AAAI,EAAA,CAAA,CAAA,EAAI,CAAA,OAAM,AAAC,CAAC,QAAO,CAAC,CAAC;AAEzB,OAAS,QAAM,CAAE,KAAI,CAAG;AACtB,KAAI,SAAQ,OAAO,IAAM,EAAA,CAAG;AAC1B,SAAO,CAAA,eAAc,AAAC,EAAC,CAAC;EAC1B,KAAO,KAAI,KAAI,QAAQ,AAAC,CAAC,KAAI,CAAC,CAAG;AAC/B,SAAO,CAAA,MAAK,OAAO,AAAC,CAAC,KAAI,IAAI,AAAC,CAAC,OAAM,CAAC,CAAC,CAAC;EAC1C,KAAO,KAAI,MAAO,MAAI,CAAA,GAAM,SAAO,CAAA,EAAK,CAAA,KAAI,GAAK,KAAG,CAAG;AACrD,SAAO,CAAA,eAAc,AAAC,CAAC,KAAI,CAAC,CAAC;EAC/B,KAAO;AAEL,SAAO,MAAI,CAAC;EACd;AAAA,AACF;AAAA,AAEW,EAAA,CAAA,eAAc,EAAI,UAAS,KAAI,CAAG;AAC3C,KAAI,MAAO,MAAI,CAAA,GAAM,YAAU,CAAG;AAChC,SAAO,MAAI,CAAC;EACd;AAAA,AACA,KAAI,MAAO,MAAI,CAAA,GAAM,SAAO,CAAG;AAC7B,QAAM,IAAI,UAAQ,AAAC,CAAC,oDAAmD,CAAC,CAAC;EAC3E;AAAA,AACA,KAAI,KAAI,sBAAsB,CAAG;AAC/B,SAAO,MAAI,CAAC;EACd;AAAA,AACA,OAAO,CAAA,KAAI,IAAI,AAAC,CAAC,KAAI,CAAC,CAAC;AACzB,CAAA;AAEA,AAAI,EAAA,CAAA,KAAI,EAAI,CAAA,MAAK,OAAO,AAAC,CAAC,MAAK,OAAO,AAAC,CAAC,eAAc,UAAU,CAAC,CAAC,CAAC;AAEnE,cAAc,UAAU,IAAI,EAAI,UAAS,KAAI,CAAG;AAC9C,KAAI,CAAC,KAAI,CAAG;AACV,SAAO,KAAG,CAAC;EACb;AAAA,AAIA,KAAI,MAAO,MAAI,CAAA,GAAM,SAAO,CAAG;AAC7B,AAAI,MAAA,CAAA,QAAO,EAAI,GAAC,CAAC;AACjB,WAAO,CAAE,KAAI,CAAC,EAAI,CAAA,SAAQ,CAAE,CAAA,CAAC,CAAC;AAC9B,SAAO,CAAA,IAAG,IAAI,AAAC,CAAC,QAAO,CAAC,CAAC;EAC3B;AAAA,AAEI,IAAA,CAAA,IAAG,EAAI,CAAA,OAAM,AAAC,CAAC,KAAI,CAAC,CAAC;AACzB,KAAI,IAAG,OAAO,IAAM,EAAA;AAAG,SAAO,KAAG,CAAC;AAAA,AAElC,SAAS,SAAO,CAAE,CAAA,CAAG,CAAA,CAAA,CAAG;AACtB,SAAO,CAAA,MAAK,KAAK,AAAC,CAAC,CAAA,CAAC,MAAM,AAAC,CAAC,SAAS,GAAE,CAAG;AACxC,WAAO,CAAA,CAAA,eAAe,AAAC,CAAC,GAAE,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ;AAAA,AAEI,IAAA,CAAA,WAAU,EAAI,CAAA,QAAO,AAAC,CAAC,IAAG,CAAG,MAAI,CAAC,CAAA,EAAK,CAAA,QAAO,AAAC,CAAC,KAAI,CAAG,KAAG,CAAC,CAAC;AAChE,KAAI,WAAU,CAAG;AACf,AAAI,MAAA,CAAA,CAAA,EAAI,CAAA,MAAK,eAAe,AAAC,CAAC,IAAG,CAAC,CAAC;AACnC,SAAO,CAAA,CAAA,IAAI,AAAC,CAAC,KAAI,CAAC,CAAC;EACrB;AAAA,AAEI,IAAA,CAAA,YAAW,EAAI,GAAC,CAAC;AAGrB,MAAI,EAAI,CAAA,CAAA,OAAO,AAAC,CAAC,EAAC,CAAE,KAAG,CAAE,MAAI,CAAC,CAAC;AAE/B,KAAG,EAAI,CAAA,OAAM,AAAC,CAAC,KAAI,CAAC,CAAC;AAErB,KAAG,QAAQ,AAAC,CAAC,SAAS,GAAE,CAAG;AACzB,AAAI,MAAA,CAAA,KAAI,EAAI,CAAA,KAAI,CAAE,GAAE,CAAC,CAAC;AAEtB,eAAW,CAAE,GAAE,CAAC,EAAI;AAAE,UAAI,CAAG,MAAI;AAAG,eAAS,CAAG,KAAG;AAAA,IAAE,CAAC;EACxD,CAAC,CAAC;AACF,AAAI,IAAA,CAAA,MAAK,EAAI,CAAA,MAAK,OAAO,AAAC,CAAC,IAAG,CAAG,aAAW,CAAC,CAAC;AAC9C,OAAK,OAAO,AAAC,CAAC,MAAK,CAAC,CAAC;AACrB,OAAO,OAAK,CAAC;AACf,CAAC;AAED,cAAc,UAAU,MAAM,EAAI,UAAS,YAAW,CAAG;AACvD,AAAI,IAAA,CAAA,KAAI,EAAI,GAAC,CAAC;AAEd,AAAI,IAAA,CAAA,UAAS,EAAI,CAAA,SAAS,GAAE,CAAG;AAC7B,QAAI,CAAE,GAAE,CAAC,EAAI,CAAA,IAAG,CAAE,GAAE,CAAC,CAAC;EACxB,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;AAEZ,SAAS,YAAU,CAAE,GAAE,CAAG;AACxB,SAAO,CAAA,GAAE,IAAM,aAAW,CAAC;EAC7B;AAAA,AAEA,KAAI,IAAG,eAAe,AAAC,CAAC,YAAW,CAAC,CAAA,EAChC,CAAA,OAAM,AAAC,CAAC,MAAK,eAAe,AAAC,CAAC,IAAG,CAAC,CAAC,QAAQ,AAAC,CAAC,YAAW,CAAC,CAAA,CAAI,EAAA,CAAG;AAClE,SAAK,KAAK,AAAC,CAAC,IAAG,CAAC,OAAO,AAAC,CAAC,WAAU,CAAC,QAAQ,AAAC,CAAC,UAAS,CAAC,CAAC;AACzD,SAAO,CAAA,MAAK,eAAe,AAAC,CAAC,IAAG,CAAC,IAAI,AAAC,CAAC,KAAI,CAAC,CAAC;EAC/C,KAAO;AACL,AAAI,MAAA,CAAA,IAAG,EAAI,CAAA,OAAM,AAAC,CAAC,IAAG,CAAC,CAAC;AACxB,AAAI,MAAA,CAAA,QAAO,EAAI,CAAA,IAAG,OAAO,AAAC,CAAC,WAAU,CAAC,CAAC;AACvC,AAAI,MAAA,CAAA,QAAO,EAAI,CAAA,QAAO,OAAO,IAAM,CAAA,IAAG,OAAO,CAAC;AAC9C,OAAI,QAAO,CAAG;AACZ,WAAO,KAAG,CAAC;IACb,KAAO;AACL,aAAO,QAAQ,AAAC,CAAC,UAAS,CAAC,CAAC;AAC5B,WAAO,CAAA,eAAc,AAAC,CAAC,KAAI,CAAC,CAAC;IAC/B;AAAA,EACF;AAAA,AACF,CAAC;AAED,cAAc,UAAU,OAAO,EAAI,UAAQ,AAAC,CAAE;AAC5C,AAAI,IAAA,CAAA,IAAG,EAAI,GAAC,CAAC;AACb,gBAAc,KAAK,AAAC,CAAC,IAAG,CAAC,QAAQ,AAAC,CAAC,SAAS,GAAE,CAAG;AAC/C,AAAI,MAAA,CAAA,KAAI,EAAI,CAAA,IAAG,CAAE,GAAE,CAAC,CAAC;AACrB,OAAG,CAAE,GAAE,CAAC,EAAI,CAAA,CAAC,KAAI,GAAK,CAAA,MAAO,MAAI,OAAO,CAAA,GAAM,WAAS,CAAC,EACpD,CAAA,KAAI,OAAO,AAAC,EAAC,CAAA,CACb,MAAI,CAAC;EACX,CAAG,KAAG,CAAC,CAAC;AACR,OAAO,KAAG,CAAC;AACb,CAAC;AAED,cAAc,UAAU,sBAAsB,EAAI,KAAG,CAAC;AAEtD,KAAK,OAAO,AAAC,CAAC,eAAc,UAAU,CAAC,CAAC;AAExC,OAAS,QAAM,CAAE,GAAE,CAAG;AACpB,KAAI,GAAE,GAAK,CAAA,GAAE,sBAAsB,CAAG;AACpC,SAAO,CAAA,eAAc,KAAK,AAAC,CAAC,GAAE,CAAC,CAAC;EAClC,KAAO;AACL,SAAO,CAAA,MAAK,KAAK,AAAC,CAAC,GAAE,CAAC,CAAC;EACzB;AAAA,AACF;AAAA,AAEA,cAAc,KAAK,EAAI,UAAS,GAAE,CAAG;AACnC,AAAI,IAAA,CAAA,IAAG,EAAI,GAAC,CAAC;AACb,AAAI,IAAA,CAAA,IAAG,EAAI,GAAC,CAAC;AACb,SAAS,QAAM,CAAE,GAAE,CAAG;AACpB,OAAI,CAAC,IAAG,eAAe,AAAC,CAAC,GAAE,CAAC,CAAG;AAC7B,SAAG,CAAE,GAAE,CAAC,EAAI,KAAG,CAAC;AAChB,WAAO,KAAG,CAAC;IACb,KAAO;AACL,WAAO,MAAI,CAAC;IACd;AAAA,EACF;AAAA,AACA,QAAO,GAAE,GAAK,CAAA,GAAE,IAAM,CAAA,eAAc,UAAU,CAAG;AAC/C,OAAG,EAAI,CAAA,IAAG,OAAO,AAAC,CAAE,MAAK,KAAK,AAAC,CAAC,GAAE,CAAC,OAAO,AAAC,CAAC,OAAM,CAAC,CAAE,CAAC;AACtD,MAAE,EAAI,CAAA,MAAK,eAAe,AAAC,CAAC,GAAE,CAAC,CAAC;EAClC;AAAA,AACA,OAAO,KAAG,CAAC;AACb,CAAC;AACD","sourceRoot":"app-build/","sourcesContent":["\"use strict\";\n\nvar _ = require(\"lodash\");\n\nfunction factory(input) {\n  if (arguments.length === 0) {\n    return ImmutableObject();\n  } else if (Array.isArray(input)) {\n    return Object.freeze(input.map(factory));\n  } else if (typeof input === \"object\" && input != null) {\n    return ImmutableObject(input);\n  } else {\n    // Treat anything else i.e. number, boolean, null, as immutable already\n    return input;\n  }\n}\n\nexport var ImmutableObject = function(props) {\n  if (typeof props === \"undefined\") {\n    return empty;\n  }\n  if (typeof props !== \"object\") {\n    throw new TypeError(\"ImmutableObject property source must be an object.\");\n  }\n  if (props.__isImmutableObject__) {\n    return props;\n  }\n  return empty.set(props);\n}\n\nvar empty = Object.freeze(Object.create(ImmutableObject.prototype));\n\nImmutableObject.prototype.set = function(props) {\n  if (!props) {\n    return this;\n  }\n\n  // allow this.set(\"property\", value)\n  // call this.set({property: value})\n  if (typeof props === \"string\") {\n    var propsObj = {};\n    propsObj[props] = arguments[1];\n    return this.set(propsObj);\n  }\n\n  var keys = allKeys(props);\n  if (keys.length === 0) return this;\n\n  function sameKeys(x, y) {\n    return Object.keys(x).every(function(key) {\n      return y.hasOwnProperty(key);\n    });\n  }\n\n  var allSameKeys = sameKeys(this, props) && sameKeys(props, this);\n  if (allSameKeys) {\n    var p = Object.getPrototypeOf(this);\n    return p.set(props);\n  }\n\n  var propertyDefs = {};\n\n  // tom hack to make more like Immutable.js\n  props = _.extend({},this,props);\n\n  keys = allKeys(props);\n\n  keys.forEach(function(key) {\n    var value = props[key];\n    //value = factory(value);\n    propertyDefs[key] = { value: value, enumerable: true };\n  });\n  var newObj = Object.create(this, propertyDefs);\n  Object.freeze(newObj);\n  return newObj;\n};\n\nImmutableObject.prototype.unset = function(keyToExclude) {\n  var props = {};\n\n  var includeKey = function(key) {\n    props[key] = this[key];\n  }.bind(this);\n\n  function notExcluded(key) {\n    return key !== keyToExclude;\n  }\n\n  if (this.hasOwnProperty(keyToExclude) &&\n      allKeys(Object.getPrototypeOf(this)).indexOf(keyToExclude) < 0) {\n    Object.keys(this).filter(notExcluded).forEach(includeKey);\n    return Object.getPrototypeOf(this).set(props);\n  } else {\n    var keys = allKeys(this);\n    var filtered = keys.filter(notExcluded);\n    var noChange = filtered.length === keys.length;\n    if (noChange) {\n      return this;\n    } else {\n      filtered.forEach(includeKey);\n      return ImmutableObject(props);\n    }\n  }\n};\n\nImmutableObject.prototype.toJSON = function() {\n  var json = {};\n  ImmutableObject.keys(this).forEach(function(key) {\n    var value = this[key];\n    json[key] = (value && typeof value.toJSON === \"function\")\n      ? value.toJSON()\n      : value;\n  }, this);\n  return json;\n};\n\nImmutableObject.prototype.__isImmutableObject__ = true;\n\nObject.freeze(ImmutableObject.prototype);\n\nfunction allKeys(obj) {\n  if (obj && obj.__isImmutableObject__) {\n    return ImmutableObject.keys(obj);\n  } else {\n    return Object.keys(obj);\n  }\n}\n\nImmutableObject.keys = function(obj) {\n  var keys = [];\n  var seen = {};\n  function notSeen(key) {\n    if (!seen.hasOwnProperty(key)) {\n      seen[key] = true;\n      return true;\n    } else {\n      return false;\n    }\n  }\n  while (obj && obj !== ImmutableObject.prototype) {\n    keys = keys.concat( Object.keys(obj).filter(notSeen) );\n    obj = Object.getPrototypeOf(obj);\n  }\n  return keys;\n};\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}"]}